export enum UserRole {
  FARMER = 'FARMER',
  VENDOR = 'VENDOR',
  ADMIN = 'ADMIN',
}

export interface User {
  id: string;
  name: string;
  email: string;
  role: UserRole;
  location: string;
  lat?: number;
  lng?: number;
  rating: number;
  reviews: number;
  avatarUrl: string; // maps to avatar_url
  walletBalance: number; // maps to wallet_balance
  farmSize?: string; // maps to farm_size
  businessName?: string; // maps to business_name
  createdAt?: string; // maps to created_at
}

export interface Produce {
  id: string;
  farmerId: string; // maps to farmer_id
  farmerName: string;
  name: string;
  type: string;
  quantity: number; // in kg
  pricePerKg: number; // maps to price_per_kg
  location: string;
  imageUrl: string; // maps to image_url
  description: string;
  harvestDate: string; // maps to harvest_date
  createdAt?: string; // maps to created_at
}

export enum ContractStatus {
  PENDING = 'Pending',
  ACTIVE = 'Active',
  DELIVERY_CONFIRMED = 'Delivery Confirmed',
  PAYMENT_RELEASED = 'Payment Released',
  COMPLETED = 'Completed',
  DISPUTED = 'Disputed',
  CANCELLED = 'Cancelled',
}

export interface Contract {
  id: string;
  produceId?: string; // optional, aligns with produce_id in other tables
  produceName: string;
  farmerId: string;
  vendorId: string;
  farmerName: string;
  vendorName: string;
  quantity: number;
  totalPrice: number;
  deliveryDeadline: string;
  paymentDate?: string;
  status: ContractStatus;
  createdAt?: string; // maps to created_at
}

export interface Message {
  id: string;
  contractId: string;
  senderId: string;
  senderName: string;
  text: string;
  timestamp: string;
}

export enum TransactionDirection {
  DEBIT = 'DEBIT',
  CREDIT = 'CREDIT',
}

export interface Transaction {
  id: string;
  userId: string; // maps to user_id
  amount: number;
  type: TransactionDirection; // backend uses DEBIT/CREDIT
  date: string;
  description: string;
  relatedContractId?: string;
  createdAt?: string; // maps to created_at
}

// Optional: tables that exist in backend but not yet used in views
export interface Dispute {
  id: string;
  contractId: string;
  filedBy: string; // user id
  reason: string;
  status: string;
  resolution?: string;
  createdAt?: string;
}

export interface Delivery {
  id: string;
  contractId: string;
  orderId?: string;
  driverId?: string;
  status: string;
  currentLocation?: string;
  eta?: string;
  createdAt?: string;
}

export interface Order {
  id: string;
  buyerId: string;
  sellerId: string;
  produceId: string;
  quantity: number;
  totalPrice: number;
  status: string;
  createdAt?: string;
}

export interface NotificationItem {
  id: string;
  userId: string;
  title: string;
  body: string;
  seen: boolean;
  createdAt?: string;
}

export interface Payment {
  id: string;
  userId: string;
  amount: number;
  direction: TransactionDirection; // DEBIT/CREDIT
  method: string;
  relatedOrderId?: string;
  relatedContractId?: string;
  createdAt?: string;
}
